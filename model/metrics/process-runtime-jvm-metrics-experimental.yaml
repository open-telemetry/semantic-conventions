groups:
  - id: metric.jvm.memory.init
    type: metric
    metric_name: jvm.memory.init
    extends: attributes.jvm.memory
    brief: "Measure of initial memory requested."
    instrument: updowncounter
    unit: "By"

  - id: metric.jvm.system.cpu.utilization
    type: metric
    metric_name: jvm.system.cpu.utilization
    brief: "Recent CPU utilization for the whole system as reported by the JVM."
    note: >
      The value range is [0.0,1.0].
      This utilization is not defined as being for the specific interval since last measurement
      (unlike `system.cpu.utilization`).
      [Reference](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.management/com/sun/management/OperatingSystemMXBean.html#getCpuLoad()).
    instrument: gauge
    unit: "1"

  - id: metric.jvm.system.cpu.load_1m
    type: metric
    metric_name: jvm.system.cpu.load_1m
    brief: "Average CPU load of the whole system for the last minute as reported by the JVM."
    note: >
      The value range is [0,n], where n is the number of CPU cores - or a negative number if the value is not available.
      This utilization is not defined as being for the specific interval since last measurement
      (unlike `system.cpu.utilization`).
      [Reference](https://docs.oracle.com/en/java/javase/17/docs/api/java.management/java/lang/management/OperatingSystemMXBean.html#getSystemLoadAverage()).
    instrument: gauge
    unit: "{run_queue_item}"

  - id: attributes.jvm.buffer
    type: attribute_group
    brief: "Describes JVM buffer metric attributes."
    attributes:
      - ref: pool
        brief: Name of the buffer pool.
        examples: [ "mapped", "direct" ]
        note: >
          Pool names are generally obtained via
          [BufferPoolMXBean#getName()](https://docs.oracle.com/en/java/javase/11/docs/api/java.management/java/lang/management/BufferPoolMXBean.html#getName()).

  - id: metric.jvm.buffer.usage
    type: metric
    metric_name: jvm.buffer.usage
    extends: attributes.jvm.buffer
    brief: "Measure of memory used by buffers."
    instrument: updowncounter
    unit: "By"

  - id: metric.jvm.buffer.limit
    type: metric
    metric_name: jvm.buffer.limit
    extends: attributes.jvm.buffer
    brief: "Measure of total memory capacity of buffers."
    instrument: updowncounter
    unit: "By"

  - id: metric.jvm.buffer.count
    type: metric
    metric_name: jvm.buffer.count
    extends: attributes.jvm.buffer
    brief: "Number of buffers in the pool."
    instrument: updowncounter
    unit: "{buffer}"

  - id: metric.process.runtime.jvm.cpu.monitor.duration
    type: metric
    metric_name: process.runtime.jvm.cpu.monitor.duration
    brief: "Time monitor was used by a thread. Only available in JDK 17+."
    instrument: histogram
    unit: "s"
    attributes:
      - ref: thread.id
        requirement_level: opt_in
      - ref: code.namespace
        requirement_level: opt_in
        brief: Class of the monitor.
        examples: [ "java.lang.Object" ]
      - id: status
        type: string
        requirement_level: recommended
        brief: Action taken at monitor.
        examples: [ "blocked", "wait" ]

  - id: metric.process.runtime.jvm.cpu.context_switch
    type: metric
    metric_name: process.runtime.jvm.context_switches
    brief: "Number of context switches per second. Only available in JDK 17+."
    instrument: updowncounter
    unit: "Hz"

  - id: metric.process.runtime.jvm.network.io
    type: metric
    metric_name: process.runtime.jvm.network.io
    brief: "Bytes read/written by thread. Only available in JDK 17+."
    extends: attributes.process.runtime.jvm.network
    instrument: histogram
    unit: "By"

  - id: metric.process.runtime.jvm.network.duration
    type: metric
    metric_name: process.runtime.jvm.network.duration
    brief: "Duration of network IO operation by thread. Only available in JDK 17+."
    extends: attributes.process.runtime.jvm.network
    instrument: histogram
    unit: "s"
