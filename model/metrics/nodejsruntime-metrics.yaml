groups:
  - id: metric.nodejsruntime.active_handles.count
    type: metric
    metric_name: nodejsruntime.active_handles.count
    brief: "Number of active handles."
    instrument: updowncounter
    unit: "{handles}"
    stability: experimental
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended

  - id: metric.nodejsruntime.eventloop.lag
    type: metric
    metric_name: nodejsruntime.eventloop.lag
    brief: "Event loop lag."
    instrument: gauge
    unit: "s"
    stability: experimental
    prefix: nodejsruntime.eventloop.lag
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended
      - ref: nodejsruntime.eventloop.lag.type
        requirement_level: recommended

  - id: metric.nodejsruntime.eventloop.utilization
    type: metric
    metric_name: nodejsruntime.eventloop.utilization
    brief: "Event loop utilization."
    instrument: gauge
    unit: "1"
    stability: experimental
    note: >
      The value range is [0.0,1.0].
    prefix: nodejsruntime.eventloop.utilization
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended

  - id: metric.nodejsruntime.gc.duration
    type: metric
    metric_name: nodejsruntime.gc.duration
    brief: "Garbage collection duration."
    instrument: histogram
    unit: "s"
    stability: experimental
    prefix: nodejsruntime.gc
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended
      - ref: nodejsruntime.gc.type
        requirement_level: recommended

  - id: metric.nodejsruntime.memory.size
    type: metric
    metric_name: nodejsruntime.memory.size
    brief: "External memory size."
    instrument: updowncounter
    unit: "By"
    stability: experimental
    prefix: nodejsruntime.memory
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended
      - ref: nodejsruntime.memory.state
        requirement_level: recommended

  - id: metric.nodejsruntime.heap.size
    type: metric
    metric_name: nodejsruntime.heap.size
    brief: "Heap size."
    instrument: updowncounter
    unit: "By"
    stability: experimental
    prefix: nodejsruntime.heap.size
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended
      - ref: nodejsruntime.heap.size.state
        requirement_level: recommended

  - id: metric.nodejsruntime.heap.space
    type: metric
    metric_name: nodejsruntime.heap.space
    brief: "Heap space."
    instrument: updowncounter
    unit: "By"
    stability: experimental
    prefix: nodejsruntime.heap.space
    attributes:
      - ref: nodejsruntime.version
        requirement_level: recommended
      - ref: nodejsruntime.heap.space.state
        requirement_level: recommended
