groups:
  # General system attributes
  - id: registry.system
    type: attribute_group
    display_name: General System Attributes
    brief: "Describes System attributes"
    attributes:
      - id: system.device
        type: string
        stability: development
        brief: "The device identifier"
        examples: ["(identifier)"]
  # system.memory.* attribute group
  - id: registry.system.memory
    type: attribute_group
    display_name: System Memory Attributes
    brief: "Describes System Memory attributes"
    attributes:
      - id: system.memory.state
        type:
          members:
            - id: used
              value: 'used'
              stability: development
              brief: Actual used virtual memory in bytes.
              note: >
                Calculation based on the operating system metrics.
                On Linux, this corresponds to "MemTotal - MemAvailable" from /proc/meminfo, which
                more accurately reflects memory in active use by applications compared to older
                formulas based on free, cached, and buffers. If MemAvailable is not available,
                a fallback to those older formulas may be used.
            - id: free
              value: 'free'
              stability: development
            - id: shared
              value: 'shared'
              stability: development
              deprecated:
                reason: uncategorized
                note: "Removed, report shared memory usage with `metric.system.memory.shared` metric"
            - id: buffers
              value: 'buffers'
              stability: development
            - id: cached
              value: 'cached'
              stability: development
        stability: development
        brief: "The memory state"
        examples: ["free", "cached"]
      - id: system.memory.linux.slab.state
        type:
          members:
            - id: reclaimable
              value: 'reclaimable'
              stability: development
            - id: unreclaimable
              value: 'unreclaimable'
              stability: development
        stability: development
        brief: "The Linux Slab memory state"
        examples: ["reclaimable", "unreclaimable"]
  # system.paging.* attribute group
  - id: registry.system.paging
    type: attribute_group
    display_name: System Paging Attributes
    brief: "Describes System Memory Paging attributes"
    attributes:
      - id: system.paging.state
        type:
          members:
            - id: used
              value: 'used'
              stability: development
            - id: free
              value: 'free'
              stability: development
        stability: development
        brief: "The memory paging state"
        examples: ["free"]
      - id: system.paging.fault.type
        type:
          members:
            - id: major
              value: 'major'
              stability: development
            - id: minor
              value: 'minor'
              stability: development
        stability: development
        brief: "The paging fault type"
        examples: ["minor"]
      - id: system.paging.direction
        type:
          members:
            - id: in
              value: 'in'
              stability: development
            - id: out
              value: 'out'
              stability: development
        stability: development
        brief: "The paging access direction"
        examples: ["in"]
  - id: registry.system.filesystem
    type: attribute_group
    display_name: Filesystem Attributes
    brief: "Describes Filesystem attributes"
    attributes:
      - id: system.filesystem.state
        brief: "The filesystem state"
        type:
          members:
            - id: used
              value: 'used'
              stability: development
            - id: free
              value: 'free'
              stability: development
            - id: reserved
              value: 'reserved'
              stability: development
        stability: development
        examples: ["used"]
      - id: system.filesystem.type
        type:
          members:
            - id: fat32
              value: 'fat32'
              stability: development
            - id: exfat
              value: 'exfat'
              stability: development
            - id: ntfs
              value: 'ntfs'
              stability: development
            - id: refs
              value: 'refs'
              stability: development
            - id: hfsplus
              value: 'hfsplus'
              stability: development
            - id: ext4
              value: 'ext4'
              stability: development
        stability: development
        brief: "The filesystem type"
        examples: ["ext4"]
      - id: system.filesystem.mode
        type: string
        stability: development
        brief: "The filesystem mode"
        examples: ["rw, ro"]
      - id: system.filesystem.mountpoint
        type: string
        stability: development
        brief: "The filesystem mount path"
        examples: ["/mnt/data"]
  # system.linux.psi.* attribute group
  - id: registry.system.linux.psi
    type: attribute_group
    display_name: System PSI (Pressure Stall Information) Attributes
    brief: "Describes Linux Pressure Stall Information attributes"
    attributes:
      - id: system.linux.psi.resource
        type:
          members:
            - id: cpu
              value: 'cpu'
              stability: development
              brief: "CPU resource pressure"
            - id: memory
              value: 'memory'
              stability: development
              brief: "Memory resource pressure"
            - id: io
              value: 'io'
              stability: development
              brief: "I/O resource pressure"
        stability: development
        brief: "The resource experiencing pressure"
        examples: ["cpu", "memory", "io"]
        note: >
          Linux PSI (Pressure Stall Information) measures resource pressure for CPU, memory, and I/O.
          See [Linux kernel PSI documentation](https://docs.kernel.org/accounting/psi.html).
      - id: system.linux.psi.stall_type
        type:
          members:
            - id: some
              value: 'some'
              stability: development
              brief: "At least some tasks are stalled on the resource"
              note: >
                The "some" line indicates the share of time in which at least some
                tasks are stalled on a given resource.
            - id: full
              value: 'full'
              stability: development
              brief: "All non-idle tasks are stalled on the resource simultaneously"
              note: >
                The "full" line indicates the share of time in which all non-idle
                tasks are stalled on a given resource simultaneously. This represents
                a state where actual CPU cycles are going to waste and the workload
                is thrashing. CPU full is undefined at the system level and is set to
                zero for backward compatibility (available since Linux 5.13).
        stability: development
        brief: "The PSI stall type"
        examples: ["some", "full"]
      - id: system.linux.psi.window
        type: int
        stability: development
        brief: "The time window over which pressure is calculated in seconds."
        examples: [10, 60, 300]
        note: >
          PSI tracks pressure as percentages over 10-second, 60-second, and 300-second windows.
          This attribute identifies which time window the metric represents.
