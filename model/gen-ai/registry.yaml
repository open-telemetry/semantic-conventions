groups:
  - id: registry.gen_ai
    type: attribute_group
    display_name: GenAI Attributes
    brief: >
      This document defines the attributes used to describe telemetry in the context of Generative Artificial Intelligence (GenAI) Models requests and responses.
    attributes:
      - id: gen_ai.provider.name
        stability: development
        type:
          members:
            - id: openai
              stability: development
              value: "openai"
              brief: '[OpenAI](https://openai.com/)'
            - id: gcp.gen_ai
              stability: development
              value: "gcp.gen_ai"
              brief: "Any Google generative AI endpoint"
              note: >
                May be used when specific backend is unknown.
            - id: gcp.vertex_ai
              stability: development
              value: "gcp.vertex_ai"
              brief: "[Vertex AI](https://cloud.google.com/vertex-ai)"
            - id: gcp.gemini
              stability: development
              value: "gcp.gemini"
              brief: '[Gemini](https://cloud.google.com/products/gemini)'
            - id: anthropic
              stability: development
              value: "anthropic"
              brief: '[Anthropic](https://www.anthropic.com/)'
            - id: cohere
              stability: development
              value: "cohere"
              brief: '[Cohere](https://cohere.com/)'
            - id: aws.bedrock
              stability: development
              value: "aws.bedrock"
              brief: '[AWS Bedrock](https://aws.amazon.com/bedrock)'
        brief: The Generative AI provider as identified by the client or server instrumentation.

      - id: gen_ai.tool.name
        stability: development
        type: string
        brief: Name of the tool utilized by the agent.
        examples: ["Flights"]

## Tool call responses

When a message part has `type: "tool_call_response"`, the message `role` SHOULD be `"tool"`.

This ensures that:
- Tool outputs are clearly distinguished from model-generated content
- SDKs and collectors can reliably parse tool execution boundaries
- Redaction and telemetry pipelines correctly classify tool results

The `tool_call_response` part represents the result of a tool execution initiated by the model.
It is not user input and not model output — it is tool output.

Instrumentations SHOULD preserve the `role` exactly as provided by the GenAI API/provider.
If an unexpected value is provided (e.g., not `"tool"`), it indicates non-conformant input and SHOULD be captured as-is
for observability rather than being rewritten.

      - id: gen_ai.tool.call.id
        stability: development
        type: string
        brief: The tool call identifier.
        examples: ['call_mszuSIzqtI65i1wAUOE8w5H4']

      - id: gen_ai.input.messages
        stability: development
        type: any
        brief: >
          The chat history provided to the model as an input.
        examples:
          - |
              [
                {
                  "role": "user",
                  "parts": [
                    {
                      "type": "text",
                      "content": "Weather in Paris?"
                    }
                  ]
                },
                {
                  "role": "assistant",
                  "parts": [
                    {
                      "type": "tool_call",
                      "id": "call_VSPygqKTWdrhaFErNvMV18Yl",
                      "name": "get_weather",
                      "arguments": {
                        "location": "Paris"
                      }
                    }
                  ]
                },
                {
                  "role": "tool",
                  "parts": [
                    {
                      "type": "tool_call_response",
                      "id": "call_VSPygKTWdrhaFErNvMV18Y1",
                      "response": "rainy, 57°F"
                    }
                  ]
                }
              ]
