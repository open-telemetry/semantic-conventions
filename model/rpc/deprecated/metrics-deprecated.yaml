groups:
  - id: metric.rpc.client.requests_per_rpc
    type: metric
    metric_name: rpc.client.requests_per_rpc
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the number of messages received per RPC.
    instrument: histogram
    unit: "{count}"
    note: |
      Should be 1 for all non-streaming RPCs.

      **Streaming**: This metric is required for server and client streaming RPCs
    extends: attributes.metrics.rpc.client
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.client.responses_per_rpc
    type: metric
    metric_name: rpc.client.responses_per_rpc
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the number of messages sent per RPC.
    instrument: histogram
    unit: "{count}"
    note: |
      Should be 1 for all non-streaming RPCs.

      **Streaming**: This metric is required for server and client streaming RPCs
    extends: attributes.metrics.rpc.client
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.server.requests_per_rpc
    type: metric
    metric_name: rpc.server.requests_per_rpc
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the number of messages received per RPC.
    instrument: histogram
    unit: "{count}"
    note: |
      Should be 1 for all non-streaming RPCs.

      **Streaming** : This metric is required for server and client streaming RPCs
    extends: attributes.metrics.rpc.server
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.server.responses_per_rpc
    type: metric
    metric_name: rpc.server.responses_per_rpc
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the number of messages sent per RPC.
    instrument: histogram
    unit: "{count}"
    note: |
      Should be 1 for all non-streaming RPCs.

      **Streaming**: This metric is required for server and client streaming RPCs
    extends: attributes.metrics.rpc.server
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.server.duration
    type: metric
    metric_name: rpc.server.duration
    annotations:
      code_generation:
        metric_value_type: double
    stability: development
    instrument: histogram
    unit: "ms"
    note: |
      While streaming RPCs may record this metric as start-of-batch
      to end-of-batch, it's hard to interpret in practice.

      **Streaming**: N/A.
    extends: attributes.metrics.rpc.server
    deprecated:
      reason: uncategorized
      note: Replaced by `rpc.server.call.duration` with unit `s`.
    brief: "Deprecated, use `rpc.server.call.duration` instead. Note: the unit also changed from `ms` to `s`."

  - id: metric.rpc.client.duration
    type: metric
    metric_name: rpc.client.duration
    annotations:
      code_generation:
        metric_value_type: double
    stability: development
    instrument: histogram
    unit: "ms"
    note: |
      While streaming RPCs may record this metric as start-of-batch
      to end-of-batch, it's hard to interpret in practice.

      **Streaming**: N/A.
    extends: attributes.metrics.rpc.client
    deprecated:
      reason: uncategorized
      note: Replaced by `rpc.client.call.duration` with unit `s`.
    brief: "Deprecated, use `rpc.client.call.duration` instead. Note: the unit also changed from `ms` to `s`."


  - id: metric.rpc.server.request.size
    type: metric
    metric_name: rpc.server.request.size
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the size of RPC request messages (uncompressed).
    instrument: histogram
    unit: "By"
    note: |
      **Streaming**: Recorded per message in a streaming batch
    extends: attributes.metrics.rpc.server
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.server.response.size
    type: metric
    metric_name: rpc.server.response.size
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the size of RPC response messages (uncompressed).
    instrument: histogram
    unit: "By"
    note: |
      **Streaming**: Recorded per response in a streaming batch
    extends: attributes.metrics.rpc.server
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.client.request.size
    type: metric
    metric_name: rpc.client.request.size
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the size of RPC request messages (uncompressed).
    instrument: histogram
    unit: "By"
    note: |
      **Streaming**: Recorded per message in a streaming batch
    extends: attributes.metrics.rpc.client
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.

  - id: metric.rpc.client.response.size
    type: metric
    metric_name: rpc.client.response.size
    annotations:
      code_generation:
        metric_value_type: int
    stability: development
    brief: Measures the size of RPC response messages (uncompressed).
    instrument: histogram
    unit: "By"
    note: |
      **Streaming**: Recorded per response in a streaming batch
    extends: attributes.metrics.rpc.client
    deprecated:
      reason: obsoleted
      note: Removed, no replacement at this time.
