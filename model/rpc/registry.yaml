groups:
  - id: registry.rpc
    type: attribute_group
    display_name: Remote Procedure Call (RPC) Attributes
    brief: 'This document defines attributes for remote procedure calls.'
    attributes:
      - id: rpc.response.status_code
        type: string
        stability: development
        brief: Status code of the RPC returned by the RPC server or generated by the client
        note: >
          Usually it represents an error code, but may also represent partial success,
          warning, or differentiate between various types of successful outcomes.

          Semantic conventions for individual RPC frameworks SHOULD document what
          `rpc.response.status_code` means in the context of that system and which values
          are considered to represent errors.
        examples: ["OK", "DEADLINE_EXCEEDED", "-32602"]
      - id: rpc.request.metadata
        type: template[string[]]
        stability: development
        brief: >
          RPC request metadata, `<key>` being the normalized RPC metadata key (lowercase), the value being the metadata values.
        note: |
          Instrumentations SHOULD require an explicit configuration of which metadata values are to be captured.
          Including all request metadata values can be a security risk - explicit configuration helps avoid leaking sensitive information.

          For example, a property `my-custom-key` with value `["1.2.3.4", "1.2.3.5"]` SHOULD be recorded as
          `rpc.request.metadata.my-custom-key` attribute with value `["1.2.3.4", "1.2.3.5"]`
        examples: [["1.2.3.4", "1.2.3.5"]]
      - id: rpc.response.metadata
        type: template[string[]]
        stability: development
        brief: >
          RPC response metadata, `<key>` being the normalized RPC metadata key (lowercase), the value being the metadata values.
        note: |
          Instrumentations SHOULD require an explicit configuration of which metadata values are to be captured.
          Including all response metadata values can be a security risk - explicit configuration helps avoid leaking sensitive information.

          For example, a property `my-custom-key` with value `["attribute_value"]` SHOULD be recorded as
          the `rpc.response.metadata.my-custom-key` attribute with value `["attribute_value"]`
        examples: [["attribute_value"]]
      - id: rpc.method
        type: string
        stability: development
        brief: This is the logical name of the method from the RPC interface perspective.
        examples: "exampleMethod"
      - id: rpc.service
        type: string
        stability: development
        brief: 'The full (logical) name of the service being called, including its package name, if applicable.'
        examples: "myservice.EchoService"
      - id: rpc.system.name
        brief: 'The Remote Procedure Call (RPC) system.'
        note: >
          The client and server RPC systems may differ for the same RPC interaction.
          For example, a client may use Apache Dubbo or Connect RPC to communicate
          with a server that uses gRPC since both protocols provide compatibility
          with gRPC.
        type:
          members:
            - id: grpc
              value: 'grpc'
              brief: '[gRPC](https://grpc.io/)'
              stability: development
            - id: dubbo
              value: 'dubbo'
              brief: '[Apache Dubbo](https://dubbo.apache.org/)'
              stability: development
            - id: connectrpc
              value: 'connectrpc'
              brief: '[Connect RPC](https://connectrpc.com/)'
              stability: development
            - id: jsonrpc
              value: 'jsonrpc'
              brief: '[JSON-RPC](https://www.jsonrpc.org/)'
              stability: development
        stability: development
      - id: rpc.message.type
        type:
          members:
            - id: sent
              value: "SENT"
              stability: development
            - id: received
              value: "RECEIVED"
              stability: development
        stability: development
        brief: "Whether this is a received or sent message."
      - id: rpc.message.id
        type: int
        stability: development
        brief: "MUST be calculated as two different counters starting from `1` one for sent messages and one for received message."
        note: "This way we guarantee that the values will be consistent between different implementations."
      - id: rpc.message.compressed_size
        type: int
        stability: development
        brief: "Compressed size of the message in bytes."
      - id: rpc.message.uncompressed_size
        type: int
        stability: development
        brief: "Uncompressed size of the message in bytes."
