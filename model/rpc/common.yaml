groups:
  - id: attributes.metrics.rpc.server
    type: attribute_group
    brief: "Describes RPC metric attributes."
    attributes:
      - ref: rpc.system
        requirement_level: required
      - ref: rpc.service
        note: ""
      - ref: rpc.method
        note: ""
      - ref: network.transport
      - ref: server.address
        note: ""
        requirement_level: opt_in
      - ref: server.port
        note: ""
        requirement_level: opt_in
      - ref: error.type
        requirement_level:
          conditionally_required: If and only if the operation failed.
  - id: attributes.metrics.rpc.client
    type: attribute_group
    brief: "Describes RPC metric attributes."
    extends: attributes.metrics.rpc.server
    attributes:
      - ref: server.address
        note: When communicating through an intermediary, `server.address` SHOULD represent the server address behind any intermediaries, for example proxies, if it's available.
        requirement_level: required
      - ref: server.port
        note: When communicating through an intermediary, `server.port` SHOULD represent the server port behind any intermediaries, for example proxies, if it's available.
        requirement_level:
          conditionally_required: If the connection is IP-based and the port is available.
