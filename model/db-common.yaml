groups:
  - id: attributes.db.common
    type: attribute_group
    brief: 'Describes Database attributes.'
    attributes:
      - ref: db.system
        requirement_level: required

  - id: attributes.db.client
    type: attribute_group
    brief: 'Database Client attributes'
    extends: attributes.db.common
    attributes:
      - ref: db.name
        requirement_level:
          conditionally_required: If applicable.
      - ref: db.collection.name
        requirement_level:
          conditionally_required: >
            If readily available. Otherwise, if the instrumentation library parses `db.query.text` to capture
            `db.collection.name`, then it SHOULD be the first collection name found in the query.
      - ref: db.operation.name
        requirement_level:
          conditionally_required: >
            If readily available. Otherwise, if the instrumentation library parses `db.query.text` to capture
            `db.operation.name`, then it SHOULD be the first operation name found in the query.
      - ref: server.address
        brief: >
          Name of the database host.
      - ref: server.port
        requirement_level:
          conditionally_required: If using a port other than the default port for this DBMS and if `server.address` is set.
      - ref: network.peer.address
      - ref: network.peer.port
        requirement_level:
          recommended: If `network.peer.address` is set.
      - ref: network.transport
      - ref: network.type
      - ref: db.instance.id
        requirement_level:
          recommended: If different from the `server.address`
