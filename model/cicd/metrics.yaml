groups:
  - id: metric.cicd.worker.count
    type: metric
    metric_name: cicd.worker.count
    annotations:
      code_generation:
        metric_value_type: int
    brief: 'The number of workers on the CICD system by state.'
    instrument: updowncounter
    unit: "{count}"
    stability: development
    attributes:
      - ref: cicd.worker.state
        requirement_level: required
  - id: metric.cicd.system.errors
    type: metric
    metric_name: cicd.system.errors
    annotations:
      code_generation:
        metric_value_type: int
    brief: 'The number of errors in a component of the CICD system (eg. controller, scheduler, agent).'
    note: 'Errors in pipeline run execution are explicitly excluded. Ie a test failure is not counted in this metric.'
    instrument: counter
    unit: "{error}"
    stability: development
    attributes:
      - ref: cicd.system.component
        requirement_level: required
      - ref: error.type
        requirement_level: required
